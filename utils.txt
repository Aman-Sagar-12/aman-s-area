utlity function for version 2